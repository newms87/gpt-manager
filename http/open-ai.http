# @timeout 5 m

### POST responses API timeout tests
POST https://api.openai.com/v1/responses
Authorization: Bearer {{openai_api_key}}
Content-Type: application/json
Accept: application/json
User-Agent: GuzzleHttp/7

{
    "model": "gpt-5",
    "service_tier": "auto",
    "stream": false,
    "reasoning": {
        "effort": "medium"
    },
    "instructions": "The current date and time is 2025-10-02 14:58:35\n\n\nResponse Schema Name: Classification Deduplication Response",
    "text": {
        "format": {
            "type": "json_schema",
            "name": "classification-deduplication-response-46fa83b",
            "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "mappings"
                ],
                "properties": {
                    "mappings": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "correct": {
                                    "type": "string",
                                    "description": "The normalized/correct value"
                                },
                                "incorrect": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    },
                                    "description": "Array of incorrect variations that should map to the correct value"
                                }
                            },
                            "additionalProperties": false,
                            "required": [
                                "correct",
                                "incorrect"
                            ]
                        },
                        "description": "Array of deduplication mappings"
                    }
                }
            }
        }
    },
    "input": [
        {
            "role": "user",
            "content": [
                {
                    "type": "input_text",
                    "text": "You are a data normalization assistant. Your job is to identify duplicate or similar values and normalize them to a consistent format."
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "type": "input_text",
                    "text": "I have data values extracted from structured data. Some values may represent the same concept but with different wording, formatting, casing, or redundancy.\n\nIMPORTANT: The values are individual string values, NOT full JSON objects. These strings represent any kind of data that may have variations in formatting, casing, or representation.\n\nPlease analyze these values and create a mapping of original values to normalized values. Focus on:\n\n**For String Values:**\n1. **Entity Recognition**: Identify when different strings refer to the same entity or concept\n   - Be AGGRESSIVE in identifying entities that are clearly the same (organizations, people, places, etc.)\n   - Look for core identifiers that remain consistent across variations (names, IDs, key attributes)\n   - Example: \"Microsoft Corp\", \"Microsoft Corporation\", \"MICROSOFT\", \"microsoft inc\" should ALL map to the most complete version\n   - Example: \"Tokyo Station\", \"Tokyo Stn\", \"TOKYO STATION\" should ALL map to \"Tokyo Station\"\n2. **Identifier-Based Consolidation**:\n   - If records contain the same core identifiers or unique attributes, consolidate them aggressively\n   - Choose the most complete version that includes the most relevant information\n   - Different formatting of the same information should be consolidated (dates, phone numbers, addresses, etc.)\n3. **Location/Suffix Handling**: Handle location suffixes and organizational designations appropriately\n   - Remove redundant location suffixes when they clearly refer to the same core entity\n   - Preserve meaningful distinctions between actually different entities\n4. **Consistent Formatting**: Normalize formatting to be consistent:\n   - Proper nouns: Use appropriate title casing\n   - Acronyms: Keep as uppercase when appropriate\n   - Standardize punctuation, spacing, and formatting\n5. **Completeness Priority**: When consolidating variations, choose the version with the most complete and useful information\n6. **Aggressive Consolidation**: When strings clearly refer to the same underlying entity (same core name/identifier), consolidate them even if some details vary\n\n**Important**: You are normalizing individual string values that could represent ANY type of data - people, places, organizations, products, categories, etc.\n\nIMPORTANT RULES:\n1. Only include entries where the value actually needs to be changed\n2. If a value is already in its best normalized form, don't include it in the incorrect list\n3. Choose the most complete and properly formatted version when consolidating\n4. **BE AGGRESSIVE**: When strings clearly refer to the same underlying entity, consolidate them into ONE normalized value\n5. **CRITICAL**: Group all incorrect variations together under a single correct value\n6. Look for shared core identifiers (names, IDs, key attributes) as the basis for consolidation\n7. When in doubt about whether records refer to the same entity, err on the side of consolidation if they share key identifying characteristics\n\nExample response format:\n{\n  \"mappings\": [\n    {\n      \"correct\": \"Apple Inc\",\n      \"incorrect\": [\"APPLE\", \"apple inc\", \"Apple, Inc.\", \"Apple Inc.\"]\n    },\n    {\n      \"correct\": \"University Orthopedic Care\",\n      \"incorrect\": [\"University Orthopedic Care, Palm Springs\", \"University Orthopedic Care, Tamarac\", \"University Ortho Care\"]\n    }\n  ]\n}\n\nDo not include values that are already in their correct form and have no incorrect variations.\n\nData values to normalize:\n[\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15\",\n    \"Renese Antoine, DOB 11\\/15\\/1964, MRN CT10793, Female\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Gender: Female; Age at visit: 60\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Female; Age 60\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Female; Age 60 at visit\",\n    \"Renese Antoine; DOB: 1964-11-15; MRN: CT10793; Gender: Female\",\n    \"Renese Antoine, DOB: 1964-11-15, MRN: CT10793\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Female\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Female (referred to as Her in notes)\",\n    \"Renese Antoine; DOB: 11\\/15\\/1964; MRN: CT10793; Gender: Female\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Gender: Female\",\n    \"Antoine, Renese; MRN: CT10793; DOB: 1964-11-15; Female\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Female; Injuries from Motor Vehicle Accident\",\n    \"Renese Antoine; DOB: 1964-11-15; MRN: CT10793\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Sex: Female; Notes: Injuries from a Motor Vehicle Accident\",\n    \"Antoine, Renese; DOB: 1964-11-15; MRN: CT10793\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Gender: Female (note: referred to as Her in clinical notes).\",\n    \"Antoine, Renese; MRN: CT10793; DOB: 1964-11-15\",\n    \"Renese Antoine; DOB: 1964-11-15; MRN: CT10793; Female\",\n    \"Renese Antoine; DOB: 1964-11-15; MRN: CT10793; Gender: Female (inferred from pronouns)\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Gender: Female (referred to as Her in note)\",\n    \"Renese Antoine; MRN: CT10793; DOB: 11\\/15\\/1964; Sex: Female (patient referred to using female pronouns)\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Gender: Female (referred to as Her in notes)\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Reported injuries from a motor vehicle accident\",\n    \"Renese Antoine; DOB: 1964-11-15; MRN: CT10793; Gender: Female; Injuries noted as resulting from a motor vehicle accident.\",\n    \"Renese Antoine; DOB: 1964-11-15; MRN: CT10793; Gender: Female; Notes: Injuries sustained in a Motor Vehicle Accident; receiving chiropractic care at CNCC.\",\n    \"Renese Antoine; DOB: 1964-11-15; MRN: CT10793; Gender: Female; Appointment Type: PIP Daily Encounter\",\n    \"Renese Antoine; DOB: 1964-11-15; MRN: CT10793; Gender: Female (referred to as Her in notes). No client phone or email provided on document.\",\n    \"Renese Antoine; MRN: CT10793; DOB: 11\\/15\\/1964; Gender: Female\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Female; Injuries sustained in a motor vehicle accident\",\n    \"Renese Antoine; DOB: 11\\/15\\/1964; MRN: CT10793; Address: 4492 N University Drive, Lauderhill, FL 33351-4513; Phone: (954) 578-4443\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Sex: Female\",\n    \"Renese Antoine, DOB: 1964-11-15; MRN: CT10793; Gender: Female. Presenting for treatment of injuries sustained in a Motor Vehicle Accident.\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Gender: Female (document uses She ); No patient phone\\/address\\/email listed on this page.\",\n    \"Antoine, Renese; MRN: CT10793; DOB: 1964-11-15; Gender: Female\",\n    \"Renese Antoine; MRN: CT10793; DOB: 11\\/15\\/1964\",\n    \"Renese Antoine; DOB: 1964-11-15; MRN: CT10793; Gender: Female (referred to as She in notes)\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Gender: Female (referred to as Her in note); Injury: injuries sustained in a Motor Vehicle Accident\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Female; Injuries from a Motor Vehicle Accident; reports lumbar, cervical, and thoracic pain\",\n    \"Renese Antoine; DOB: 1964-11-15; MRN: CT10793; Female; Injuries sustained in a Motor Vehicle Accident\",\n    \"Renese Antoine; MRN: CT10793; DOB: 11\\/15\\/1964; Female\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Gender: Female (referred to as She\\/Her in notes)\",\n    \"Antoine, Renese; DOB: 11\\/15\\/1964; MRN: CT10793; Female; Injuries sustained in a motor vehicle accident\",\n    \"Renese Antoine; DOB: 1964-11-15; MRN: CT10793; Gender: Female; Presenting complaint: lumbar\\/cervical\\/thoracic pain from motor vehicle accident\",\n    \"Ren\\u00e9se Antoine; 4202 N Pine Island Drive Apt 402, Sunrise, FL 33351; Account: VRC12058026PIP\",\n    \"Renese Antoine; MRN: CT10793; DOB: 1964-11-15; Address: 4202 N Pine Island Drive Apt 402, Sunrise, FL 33351\",\n    \"REN\\u00c9SE ANTOINE; 4202 N PINE ISLAND DRIVE APT 402, SUNRISE, FL 33351; Account: VRC12058026PIP\",\n    \"Resene Antoine; DOB: 1964-11-15; Patient ID: 1153910; Indication: neck pain (MVA 10\\/12\\/2024)\",\n    \"Resene Antoine; DOB: 1964-11-15; Patient ID: 1153910\",\n    \"RENESE ANTOINE; DOB: 1964-11-15; Patient ID: 1153910\",\n    \"Antoine, Renese; DOB: 1964-11-15; Patient ID: 1153910\",\n    \"Resene Antoine; Patient ID 69928\",\n    \"Renese Antoine; Sex: Female; DOB: 1964-11-15; Phone: (813) 526-2929; MRN: 108443PAT000071979; PMS ID: MVA103024ANTOINEBERN; Occupation: Nursing Assistant; Injury: motor vehicle accident on 2024-10-12 (reported in HPI)\",\n    \"Renese Antoine; DOB: 1964-11-15; Sex: Female; Phone: (813) 526-2929; MRN\\/PMS ID: 108443PAT000071979 \\/ MVA103024ANTOINEBERN\",\n    \"Renese Antoine; Female; DOB: 1964-11-15; Phone: (813) 526-2929; MRN: 108443PAT000071979\",\n    \"Renese Antoine; Female; DOB: 1964-11-15; Phone: (813) 526-2929; MRN: 108443PAT000071979; PMS ID: MVA103024ANTOINEBERN\",\n    \"Renese Antoine; DOB: 11\\/15\\/1964; Sex: Female; Phone: (813) 526-2929; MRN: 108443PAT000071979 \\/ MVA103024ANTOINEBERN\",\n    \"Renese Antoine; DOB: 1964-11-15; Sex: Female; Phone: (813) 526-2929; MRN: MVA103024ANTOINEBERN; PMS ID: 108443PAT000071979\",\n    \"Renese Antoine; DOB: 11\\/15\\/1964; Sex: Female; Phone: (813) 526-2929; MRN: 108443PAT000071979; Additional ID: MVA103024ANTOINEBERN\",\n    \"Renese Antoine; Female; DOB: 1964-11-15; Phone: (813) 526-2929; MRN: 108443PAT000071979; Additional ID: MVA103024ANTOINEBERN\",\n    \"Renese Antoine, 4202 NW 88th Ave. Apt. 402, Sunrise, FL 33351\",\n    \"Renese Antoine; DOB: 1964-11-15; Address: 4202 NW 88th Ave, Apt 402, Sunrise, FL 33351; Phone: (813) 526-2929\",\n    \"Renese Antoine; DOB: 1964-11-15; Date of Accident: 2024-10-12; Chief complaint: Neck and low back pain\",\n    \"Renese Antoine; DOB: 1964-11-15; Address: 4202 NW 88th Ave. Apt. 402, Sunrise, FL 33351; Date of Accident: 2024-10-12\",\n    \"Renese Antoine; DOB: 1964-11-15; Gender: Female; Date of Accident: 2024-10-12\",\n    \"RENESE ANTOINE; DOB: 11\\/15\\/1964; Address: 4202 NW 88TH AVE APT 402, SUNRISE, FL 33351; Home Phone: (813) 526-2929\",\n    \"Renese Antoine; DOB: 1964-11-15; Address: 4202 NW 88TH AVE APT 402, Sunrise, FL 33351; Home Phone: (813) 526-2929\"\n]"
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "type": "input_text",
                    "text": "\n\nOUTPUT IN JSON FORMAT ONLY! NO OTHER TEXT"
                }
            ]
        }
    ]
}

###
