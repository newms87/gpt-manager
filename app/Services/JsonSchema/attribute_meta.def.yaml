type: array
description: |
  A list of meta data for the objects' property values being saved in the schema.
    * A new meta entry MUST be created for each scalar property with a non-null value
    * You can create a single entry for an entire object by providing the object property name instead of the individual child property names
    * If the value is null, DO NOT add a meta entry for that property
items:
  type: object
  additionalProperties: false
  required:
    - property_name
    - save_to_db
    - citation
  properties:
    property_name:
      type: string
      description: |
        The name of the child property this meta entry references (ie: name, date, age, etc).
        DO NOT USE dot notation. This will never be a path like "team.name" or "teams[0].address.zip".
        ALWAYS set to a direct child property name.
        DO NOT reference child properties that are array or object types (scalar property types only)
    save_to_db:
      type: boolean
      description: |
        Set to true if the value is non-null and was NOT derived from the DB (ie: teamObjects). Indicates to create or update property in DB. If set to false, citation must be set to null
    citation:
      type:
        - object
        - 'null'
      additionalProperties: false
      required:
        - date
        - confidence
        - reason
        - sources
      description: |-
        A citation of the source(s) of the property's value or the objects' child properties' values.

        Set citation to null if:
          * The value was explicitly set to null.
          * The value was derived directly from the database (e.g., teamObjects).
          * The value matches what is already stored in the database.

        When save_to_db is false:
          * citation must always be null.

        If the value originates from a message or a URL and provides a better (and different) answer than the database value:
          * Set citation to reference the source(s) and set save to true.
          * ALWAYS defer to the DB and set citation to null unless you are very confident the new value is better than the original.
      properties:
        date:
          type:
            - string
            - 'null'
          description: The date (in format YYYY-MM-dd OR YYYY-MM-dd hh:mm:ss) related to the attribute's
            value (ONLY if data changes over time, otherwise null). ONLY set this value
            if it makes sense to plot in a time series! Leave null for names, descriptions,
            static properties, etc. Only set if there is an obvious date related to
            the value. Format should always be full date (and time if available). NO PARTIAL
            DATES!
        reason:
          type: string
          description: A brief explanation of why the value was chosen and why the confidence
            level was set to what it was. Try to include the context for the value (ie was mentioned in a section titled ... OR the name was mentioned, but unclear if it related to subject or something else).
        confidence:
          type: string
          description: 'The confidence level of the attribute value. Must be one of the
            following: "High", "Medium", "Low", "" (empty string). Leave blank if property
            value is null'
        sources:
          type: array
          description: |
            The source of the child property value.
            * Cite URLs or files via the url property.
            * Message IDs are ONLY found from <AgentMessage id="message_id"> tags in the thread. If no <AgentMessage> tags are present, DO NOT create a source w/ message_id property. These message sources apply ONLY to values found inside the <AgentMessage /> tags.
              * NEVER cite a message_id if it contains teamObjects data.
            * Make sure you include all relevant sources (more than if others apply).
            * If the attribute was found outside of the <AgentMessage> tag and not in the given URL/images, DO NOT add a source entry for it.
          items:
            anyOf:
              - type: object
                required:
                  - url
                  - explanation
                properties:
                  url:
                    type: string
                    description: A URL that contains the chosen value. If an image/file is
                      provided, use the URL given in image_url (DO NOT USE THE FILENAME)
                  explanation:
                    type: string
                    description: A brief explanation of how you know this source contains the value. Give some context about what the part of the source was referring to that you found the value. And the location in the source to look for the value (provide context like top of page, in this section, quoted by, etc.)
                additionalProperties: false
              - type: object
                required:
                  - message_id
                  - explanation
                properties:
                  message_id:
                    type: string
                    description: A message ID that the attribute was sourced from. If a user
                      message is wrapped with <AgentMessage id='message_id'>...</AgentMessage>,
                      it contains info leading you to the answer you gave for the attribute,
                      provide the message ID as a source.
                  explanation:
                    type: string
                    description: A brief explanation of how you know this source contains the value. Give some context about what the part of the source was referring to that you found the value. And the location in the source to look for the value (provide context like top of page, in this section, quoted by, etc.)
                additionalProperties: false
